# üöÄ Quick Start Guide - Mini Wallet Application

## Prerequisites Checklist
- [ ] Node.js 18+ installed
- [ ] PostgreSQL installed (or remote database URL)
- [ ] Alchemy API key ([Get free key](https://www.alchemy.com/))
- [ ] Etherscan API key ([Get free key](https://etherscan.io/apis))

## Installation (5 minutes)

### Option 1: Automated Setup (Recommended)
```bash
# 1. Clone the repository
git clone <your-repo-url>
cd mini-wallet-app

# 2. Run setup script
chmod +x setup.sh
./setup.sh

# 3. Edit .env with your API keys
nano .env

# 4. Start the server
npm run dev
```

### Option 2: Manual Setup
```bash
# 1. Install dependencies
npm install

# 2. Setup environment
cp .env.example .env

# 3. Generate secrets
node -e "console.log('JWT_SECRET=' + require('crypto').randomBytes(32).toString('hex'))"
node -e "console.log('ENCRYPTION_KEY=' + require('crypto').randomBytes(32).toString('hex'))"

# 4. Edit .env with your values
nano .env

# 5. Create database
createdb mini_wallet_db

# 6. Run migrations
npm run migrate

# 7. Start server
npm run dev
```

### Option 3: Docker (Easiest)
```bash
# 1. Copy and configure environment
cp .env.example .env
nano .env

# 2. Start everything with Docker
docker-compose up -d

# That's it! üéâ
```

## Configuration

### Required Environment Variables

```env
# Get from https://www.alchemy.com/ (FREE)
ALCHEMY_API_KEY=your-alchemy-api-key

# Get from https://etherscan.io/apis (FREE)
ETHERSCAN_API_KEY=your-etherscan-api-key

# These are auto-generated by setup.sh
JWT_SECRET=auto-generated-by-setup-script
ENCRYPTION_KEY=auto-generated-by-setup-script

# Database (local or remote)
DATABASE_URL=postgresql://user:pass@localhost:5432/mini_wallet_db
```

## First API Request (2 minutes)

### Using Postman (Recommended)
1. Import `postman_collection.json` into Postman
2. Run "Register User" request
3. Run "Create Wallet" request
4. Copy the mnemonic phrase!
5. Run "Get Wallet Balance" request

### Using cURL
```bash
# 1. Register a user
curl -X POST http://localhost:4000/graphql \
  -H "Content-Type: application/json" \
  -d '{
    "query": "mutation { register(input: {username: \"testuser\", password: \"Password123!\"}) { token user { username } } }"
  }'

# Save the token from response

# 2. Create a wallet (replace YOUR_TOKEN)
curl -X POST http://localhost:4000/graphql \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{
    "query": "mutation { createWallet(input: {network: \"sepolia\"}) { id address mnemonic } }"
  }'

# ‚ö†Ô∏è SAVE THE MNEMONIC PHRASE!

# 3. Check balance
curl -X POST http://localhost:4000/graphql \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{
    "query": "query { balance(walletId: 1) { ether } }"
  }'
```

### Using the Web UI
1. Open http://localhost:4000 in your browser
2. Register a new account
3. Create a wallet
4. **Save the mnemonic phrase!**
5. Check your balance

## Getting Test ETH (Free)

To test sending transactions, you need testnet ETH:

1. **Alchemy Faucet**: https://sepoliafaucet.com/
2. **Infura Faucet**: https://www.infura.io/faucet/sepolia
3. **Sepolia PoW Faucet**: https://sepolia-faucet.pk910.de/

Enter your wallet address from the "Create Wallet" response.

## Testing (1 minute)

```bash
# Run all tests
npm test

# Watch mode
npm run test:watch

# Coverage report
npm test -- --coverage
```

## Common Commands

```bash
# Development
npm run dev          # Start with nodemon (auto-reload)
npm start            # Production start

# Database
npm run migrate      # Run database migrations

# Testing
npm test            # Run all tests
npm run test:watch  # Watch mode

# Code Quality
npm run lint        # Run ESLint
npm run format      # Format with Prettier

# Docker
docker-compose up -d        # Start all services
docker-compose logs -f      # View logs
docker-compose down         # Stop services
```

## Verification Checklist

- [ ] Server starts without errors
- [ ] Can access http://localhost:4000/health (returns 200)
- [ ] Can access http://localhost:4000/graphql (GraphQL Playground)
- [ ] Can register a new user
- [ ] Can create a wallet
- [ ] Can check wallet balance
- [ ] All tests pass (`npm test`)

## Troubleshooting

### Problem: Database connection failed
**Solution**: 
- Check PostgreSQL is running: `pg_isready`
- Verify DATABASE_URL in .env
- Create database: `createdb mini_wallet_db`

### Problem: Port 4000 already in use
**Solution**: 
- Change PORT in .env to 5000 or another port
- Or kill process: `lsof -ti:4000 | xargs kill`

### Problem: JWT token invalid
**Solution**: 
- Ensure JWT_SECRET is set in .env
- Re-generate token by logging in again

### Problem: Blockchain API errors
**Solution**: 
- Verify ALCHEMY_API_KEY is correct
- Check you're not exceeding rate limits
- Ensure network is set to "sepolia"

### Problem: Migrations fail
**Solution**: 
```bash
# Reset database
dropdb mini_wallet_db
createdb mini_wallet_db
npm run migrate
```

## Next Steps

1. **Read the docs**:
   - `README.md` - Full documentation
   - `API_DOCUMENTATION.md` - API reference
   - `DEPLOYMENT.md` - Deploy to production

2. **Test the API**:
   - Use Postman collection
   - Try the GraphQL Playground
   - Test the web UI

3. **Deploy**:
   - Choose a platform (Render, Railway, Heroku)
   - Follow `DEPLOYMENT.md`
   - Set production environment variables

4. **Customize**:
   - Add features you need
   - Modify the UI
   - Extend the API

## Important Notes

‚ö†Ô∏è **NEVER** commit your `.env` file to version control!

‚ö†Ô∏è **ALWAYS** save mnemonic phrases - they can't be recovered!

‚ö†Ô∏è **USE TESTNET** (Sepolia) for development - never mainnet!

‚ö†Ô∏è **KEEP SECRETS SECURE** - rotate keys regularly in production!

## Support

- **Documentation**: Check README.md and API_DOCUMENTATION.md
- **Issues**: Open an issue on GitHub
- **Tests**: Run `npm test` to verify everything works

## Success! üéâ

Your Mini Wallet Application is now ready to use!

**GraphQL Playground**: http://localhost:4000/graphql  
**Health Check**: http://localhost:4000/health  
**Web UI**: http://localhost:4000  

Happy coding! üöÄ
